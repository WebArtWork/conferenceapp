import{a as F}from"./chunk-TBFD5B5Q.js";import{i as k}from"./chunk-6LRXWN5R.js";import{B as c,Ca as C,F as _,Ja as l,L as b,Ma as g,Na as w,Oa as x,Ra as f,Va as B,ab as R,db as T,j as u,k as v,m,n as I,o as y,p as S,ya as j}from"./chunk-HOEKJOMB.js";var A=(()=>{let e=class e extends g{constructor(s,t,r,a){super({name:"conferencereaction"},s,t,r,a),this._helper=I(F),this.conferencereactions=[],this.reactionsBySessionId={},this.setReactionsBySessionId=this._helper.createParentIdToChildrenIds(this.reactionsBySessionId,this.conferencereactions,"session"),this.get().subscribe(n=>{this.conferencereactions.push(...n),this.setReactionsBySessionId()}),a.on("conferencereaction_create").subscribe(n=>{this.conferencereactions.push(n),this.setReactionsBySessionId()}),a.on("conferencereaction_delete").subscribe(n=>{this.conferencereactions.splice(this.conferencereactions.findIndex(h=>h._id===n._id),1),this.setReactionsBySessionId()})}};e.\u0275fac=function(t){return new(t||e)(m(x),m(w),m(f),m(l))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var p=(()=>{let e=class e{get rows(){return this.sessionId?this._sc.reactionsBySessionId[this.sessionId]||[]:this._sc.conferencereactions}constructor(s,t,r,a,n,h){this._translate=s,this._alert=t,this._sc=r,this._form=a,this._core=n,this._router=h,this.sessionId=this._router.url.includes("/reactions/")?this._router.url.replace("/reactions/",""):"",this.columns=["name","description"],this.form=this._form.getForm("reactions",{formId:"reactions",title:"Reactions",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill reactions title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill reactions description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,d)=>{this.sessionId&&(o.session=this.sessionId),this._sc.create(o),d()}})},update:o=>{this._form.modal(this.form,[],o).then(d=>{this._core.copy(d,o),this._sc.update(o)})},delete:o=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencereaction?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(o)}}]})},buttons:[{icon:"cloud_download",click:o=>{this._form.modalUnique("reactions","url",o)}}]}}};e.\u0275fac=function(t){return new(t||e)(c(B),c(f),c(A),c(T),c(l),c(j))},e.\u0275cmp=y({type:e,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Reactions",3,"columns","config","rows"]],template:function(t,r){t&1&&b(0,"wtable",0),t&2&&_("columns",r.columns)("config",r.config)("rows",r.rows)},dependencies:[R]});let i=e;return i})();var P=[{path:"",component:p},{path:":reaction_id",component:p}],V=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S({type:e}),e.\u0275inj=v({imports:[C.forChild(P),k]});let i=e;return i})();export{V as ReactionsModule};
