import{a as b}from"./chunk-H5KKEB5K.js";import{a as q}from"./chunk-DPTG3VZD.js";import"./chunk-MBNO6M2M.js";import{k as I}from"./chunk-WN6D2TP3.js";import{Aa as f,C as i,Ea as h,G as d,La as v,M as p,Ta as w,Xa as C,cb as _,fb as y,k as m,o as c,p as u}from"./chunk-BGJDUI7W.js";var l=(()=>{let s=class s{get rows(){return this.sessionId?this._sc.qnasBySessionId[this.sessionId]||[]:this._sc.conferenceqnas}constructor(r,n,a,k,g,x,j){this._translate=r,this._alert=n,this._sc=a,this._form=k,this._core=g,this._router=x,this.us=j,this.sessionId=this._router.url.includes("/qnas/")?this._router.url.replace("/qnas/",""):"",this.columns=["name","description"],this.questionsComponents=[],this.answersComponents=[],this.form=this._form.getForm("qnas",{formId:"qnas",title:"Qnas",components:[{name:"Text",key:"name",focused:!0,required:!0,fields:[{name:"Placeholder",value:"fill qnas title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill qnas description"},{name:"Label",value:"Description"}]},{components:this.questionsComponents},{name:"Button",key:"questions",fields:[{name:"Label",value:"Add Question"},{name:"Click",value:()=>{let e={components:[{name:"Text",key:"questions[].question",fields:[{name:"Placeholder",value:"fill question"},{name:"Label",value:"Question"}]},{name:"Tags",key:"questions[].answers",fields:[{name:"Placeholder",value:"fill answers"},{name:"Label",value:"Answers"}]},{name:"Button",fields:[{name:"Label",value:"Remove"},{name:"Click",value:()=>{let t=this.questionsComponents.indexOf(e);t!==-1&&this.questionsComponents.splice(t,1)}}]}]};this.questionsComponents.push(e)}}]},{components:this.answersComponents},{name:"Button",key:"answers",fields:[{name:"Label",value:"Add Answer"},{name:"Click",value:()=>{let e={components:[{name:"Text",key:"answers[].answer",fields:[{name:"Placeholder",value:"fill answer"},{name:"Label",value:"Answer"}]},{name:"Button",fields:[{name:"Label",value:"Remove"},{name:"Click",value:()=>{let t=this.answersComponents.indexOf(e);t!==-1&&this.answersComponents.splice(t,1)}}]}]};this.answersComponents.push(e)}}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(e,t)=>{this.sessionId&&(e.session=this.sessionId);let L=e.answers.map(T=>({answer:T.answer,author:this.us.user._id,questionId:""}));e.answers=L,this._sc.create(e),t()}},{questions:[]})},update:e=>{console.log(e),this._form.modal(this.form,[],e).then(t=>{this._core.copy(t,e),this._sc.update(e)})},delete:e=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferenceqna?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(e)}}]})},buttons:[{icon:"cloud_download",click:e=>{this._form.modalUnique("qnas","url",e)}}]}}};s.\u0275fac=function(n){return new(n||s)(i(C),i(w),i(b),i(y),i(v),i(f),i(q))},s.\u0275cmp=c({type:s,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Qnas",3,"columns","config","rows"]],template:function(n,a){n&1&&p(0,"wtable",0),n&2&&d("columns",a.columns)("config",a.config)("rows",a.rows)},dependencies:[_]});let o=s;return o})();var S=[{path:"",component:l},{path:":qna_id",component:l}],z=(()=>{let s=class s{};s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=u({type:s}),s.\u0275inj=m({imports:[h.forChild(S),I]});let o=s;return o})();export{z as QnasModule};
