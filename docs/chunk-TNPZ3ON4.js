import{a as F}from"./chunk-LHM32VQQ.js";import{a as j}from"./chunk-DPTG3VZD.js";import"./chunk-MBNO6M2M.js";import{k}from"./chunk-WN6D2TP3.js";import{$ as C,Aa as I,C as s,E as p,Ea as g,G as u,K as h,L as d,La as x,R as _,Ta as y,Xa as w,Z as v,bb as S,cb as b,fb as T,k as a,o as l,p as f}from"./chunk-BGJDUI7W.js";function U(e,t){if(e&1&&v(0),e&2){let M=t.$implicit,r=_();C(" ",r.us.doc(M.author).email," ")}}var c=(()=>{let t=class t{get rows(){return this.sessionId?this._sc.commentsBySessionId[this.sessionId]||[]:this._sc.conferencecomments}constructor(r,o,n,q,D,N,A){this._translate=r,this._alert=o,this._sc=n,this._form=q,this._core=D,this._router=N,this.us=A,this.sessionId=this._router.url.includes("/comments/")?this._router.url.replace("/comments/",""):"",this.columns=["author","text"],this.form=this._form.getForm("comments",{formId:"comments",title:"Comments",components:[{name:"Text",key:"text",focused:!0,required:!0,fields:[{name:"Placeholder",value:"fill comments text"},{name:"Label",value:"Comment"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(i,m)=>{this.sessionId&&(i.session=this.sessionId),this._sc.create(i),m()}})},update:i=>{this._form.modal(this.form,[],i).then(m=>{this._core.copy(m,i),this._sc.update(i)})},delete:i=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencecomment?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(i)}}]})},buttons:[{icon:"cloud_download",click:i=>{this._form.modalUnique("comments","url",i)}}]}}};t.\u0275fac=function(o){return new(o||t)(s(w),s(y),s(F),s(T),s(x),s(I),s(j))},t.\u0275cmp=l({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[["title","Comments",3,"columns","config","rows"],["cell","author"]],template:function(o,n){o&1&&(h(0,"wtable",0),p(1,U,1,1,"ng-template",1),d()),o&2&&u("columns",n.columns)("config",n.config)("rows",n.rows)},dependencies:[b,S]});let e=t;return e})();var B=[{path:"",component:c},{path:":comment_id",component:c}],V=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=f({type:t}),t.\u0275inj=a({imports:[g.forChild(B),k]});let e=t;return e})();export{V as CommentsModule};
