import{a as F}from"./chunk-TBFD5B5Q.js";import{k}from"./chunk-BS2Z273D.js";import{B as c,Ca as j,F as S,Ja as u,L as _,Ma as C,Na as g,Oa as w,Ra as l,Va as x,ab as B,db as T,j as p,k as v,m,n as I,o as q,p as y,ya as b}from"./chunk-HOEKJOMB.js";var M=(()=>{let e=class e extends C{constructor(o,t,n,a){super({name:"conferencequestion"},o,t,n,a),this._helper=I(F),this.conferencequestions=[],this.questionsBySessionId={},this.setQuestionsBySessionId=this._helper.createParentIdToChildrenIds(this.questionsBySessionId,this.conferencequestions,"session"),this.get().subscribe(r=>{this.conferencequestions.push(...r),this.setQuestionsBySessionId()}),a.on("conferencequestion_create").subscribe(r=>{this.conferencequestions.push(r),this.setQuestionsBySessionId()}),a.on("conferencequestion_delete").subscribe(r=>{this.conferencequestions.splice(this.conferencequestions.findIndex(f=>f._id===r._id),1),this.setQuestionsBySessionId()})}};e.\u0275fac=function(t){return new(t||e)(m(w),m(g),m(l),m(u))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var d=(()=>{let e=class e{get rows(){return this.sessionId?this._sc.questionsBySessionId[this.sessionId]||[]:this._sc.conferencequestions}constructor(o,t,n,a,r,f){this._translate=o,this._alert=t,this._sc=n,this._form=a,this._core=r,this._router=f,this.sessionId=this._router.url.includes("/questions/")?this._router.url.replace("/questions/",""):"",this.columns=["name","description"],this.form=this._form.getForm("questions",{formId:"questions",title:"Questions",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill questions title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill questions description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(s,h)=>{this.sessionId&&(s.session=this.sessionId),this._sc.create(s),h()}})},update:s=>{this._form.modal(this.form,[],s).then(h=>{this._core.copy(h,s),this._sc.update(s)})},delete:s=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencequestion?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(s)}}]})},buttons:[{icon:"cloud_download",click:s=>{this._form.modalUnique("questions","url",s)}}]}}};e.\u0275fac=function(t){return new(t||e)(c(x),c(l),c(M),c(T),c(u),c(b))},e.\u0275cmp=q({type:e,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Questions",3,"columns","config","rows"]],template:function(t,n){t&1&&_(0,"wtable",0),t&2&&S("columns",n.columns)("config",n.config)("rows",n.rows)},dependencies:[B]});let i=e;return i})();var N=[{path:"",component:d},{path:":question_id",component:d}],V=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y({type:e}),e.\u0275inj=v({imports:[j.forChild(N),k]});let i=e;return i})();export{V as QuestionsModule};
