import{a as D}from"./chunk-TBFD5B5Q.js";import{i as A}from"./chunk-6LRXWN5R.js";import{A as S,B as c,Ca as w,F as _,Ja as m,L as b,Ma as x,Na as B,Oa as L,Ra as d,Va as T,Y as j,_ as C,ab as F,db as M,j as u,k,m as a,n as I,o as v,p as y,ya as g}from"./chunk-HOEKJOMB.js";var P=(()=>{let e=class e extends x{constructor(o,i,n,l){super({name:"conferencelink"},o,i,n,l),this._helper=I(D),this.conferencelinks=[],this.linksBySessionId={},this.setLinksBySessionId=this._helper.createParentIdToChildrenIds(this.linksBySessionId,this.conferencelinks,"session"),this.get().subscribe(r=>{this.conferencelinks.push(...r),this.setLinksBySessionId()}),l.on("conferencelink_create").subscribe(r=>{this.conferencelinks.push(r),this.setLinksBySessionId()}),l.on("conferencelink_delete").subscribe(r=>{this.conferencelinks.splice(this.conferencelinks.findIndex(f=>f._id===r._id),1),this.setLinksBySessionId()})}};e.\u0275fac=function(i){return new(i||e)(a(L),a(B),a(d),a(m))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p=(()=>{let e=class e{get rows(){return this.sessionId?this._sc.linksBySessionId[this.sessionId]||[]:this._sc.conferencelinks}constructor(o,i,n,l,r,f){this._translate=o,this._alert=i,this._sc=n,this._form=l,this._core=r,this._router=f,this.sessionId=this._router.url.includes("/links/")?this._router.url.replace("/links/",""):"",this.columns=["name","description"],this.form=this._form.getForm("links",{formId:"links",title:"Links",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill links title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill links description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(s,h)=>{this.sessionId&&(s.session=this.sessionId),this._sc.create(s),h()}})},update:s=>{this._form.modal(this.form,[],s).then(h=>{this._core.copy(h,s),this._sc.update(s)})},delete:s=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencelink?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(s)}}]})},buttons:[{icon:"cloud_download",click:s=>{this._form.modalUnique("links","url",s)}}]}}};e.\u0275fac=function(i){return new(i||e)(c(T),c(d),c(P),c(M),c(m),c(g))},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],decls:2,vars:4,consts:[["title","Links",3,"columns","config","rows"]],template:function(i,n){i&1&&(j(0),b(1,"wtable",0)),i&2&&(C("",n.sessionId,`
`),S(),_("columns",n.columns)("config",n.config)("rows",n.rows))},dependencies:[F]});let t=e;return t})();var R=[{path:"",component:p},{path:":link_id",component:p}],Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=y({type:e}),e.\u0275inj=k({imports:[w.forChild(R),A]});let t=e;return t})();export{Z as LinksModule};
