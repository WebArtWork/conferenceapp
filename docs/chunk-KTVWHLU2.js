import{a as F}from"./chunk-TBFD5B5Q.js";import{i as T}from"./chunk-6LRXWN5R.js";import{B as c,Ca as S,F as C,Ja as m,L as g,Ma as j,Na as k,Oa as B,Ra as f,Va as w,ab as x,db as U,j as u,k as v,m as l,n as _,o as y,p as I,ya as b}from"./chunk-HOEKJOMB.js";var M=(()=>{let i=class i extends j{constructor(o,s,n,a){super({name:"conferencesession"},o,s,n,a),this._helper=_(F),this.conferencesessions=[],this.sessionsByConferenceId={},this.setSessionsByConferenceId=this._helper.createParentIdToChildrenIds(this.sessionsByConferenceId,this.conferencesessions,"conference"),this.get().subscribe(r=>{this.conferencesessions.push(...r),this.setSessionsByConferenceId()}),a.on("conferencesession_create").subscribe(r=>{this.conferencesessions.push(r),this.setSessionsByConferenceId()}),a.on("conferencesession_delete").subscribe(r=>{this.conferencesessions.splice(this.conferencesessions.findIndex(h=>h._id===r._id),1),this.setSessionsByConferenceId()})}};i.\u0275fac=function(s){return new(s||i)(l(B),l(k),l(f),l(m))},i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var p=(()=>{let i=class i{get rows(){return this.conferenceId?this._sc.sessionsByConferenceId[this.conferenceId]||[]:this._sc.conferencesessions}constructor(o,s,n,a,r,h){this._translate=o,this._alert=s,this._sc=n,this._form=a,this._core=r,this._router=h,this.conferenceId=this._router.url.includes("/sessions/")?this._router.url.replace("/sessions/",""):"",this.columns=["name","description"],this.form=this._form.getForm("sessions",{formId:"sessions",title:"Sessions",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill sessions title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill sessions description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(e,d)=>{this.conferenceId&&(e.conference=this.conferenceId),this._sc.create(e),d()}})},update:e=>{this._form.modal(this.form,[],e).then(d=>{this._core.copy(d,e),this._sc.update(e)})},delete:e=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencesession?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(e)}}]})},buttons:[{icon:"cloud_download",click:e=>{this._form.modalUnique("sessions","url",e)}},{icon:"link",click:e=>{this._router.navigateByUrl("/links/"+e._id)}},{icon:"forum",click:e=>{this._router.navigateByUrl("/comments/"+e._id)}},{icon:"message",click:e=>{this._router.navigateByUrl("/messages/"+e._id)}},{icon:"note",click:e=>{this._router.navigateByUrl("/notes/"+e._id)}},{icon:"poll",click:e=>{this._router.navigateByUrl("/polls/"+e._id)}},{icon:"live_help",click:e=>{this._router.navigateByUrl("/qnas/"+e._id)}},{icon:"contact_support",click:e=>{this._router.navigateByUrl("/questions/"+e._id)}}]}}};i.\u0275fac=function(s){return new(s||i)(c(w),c(f),c(M),c(U),c(m),c(b))},i.\u0275cmp=y({type:i,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Sessions",3,"columns","config","rows"]],template:function(s,n){s&1&&g(0,"wtable",0),s&2&&C("columns",n.columns)("config",n.config)("rows",n.rows)},dependencies:[x]});let t=i;return t})();var N=[{path:"",component:p},{path:":session_id",component:p}],V=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=I({type:i}),i.\u0275inj=v({imports:[S.forChild(N),T]});let t=i;return t})();export{V as SessionsModule};
