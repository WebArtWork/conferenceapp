import{a as k}from"./chunk-BCY3YQRU.js";import{a as j}from"./chunk-XN7YWRZM.js";import"./chunk-RQNPJEDH.js";import{k as T}from"./chunk-647IO4MZ.js";import{$ as v,Aa as C,C as o,E as p,Ea as I,G as u,K as h,L as d,La as x,R as g,Ta as y,Xa as w,Z as _,bb as S,cb as b,fb as M,k as c,o as l,p as f}from"./chunk-YCCTFIWD.js";function U(t,e){if(t&1&&_(0),t&2){let F=e.$implicit,r=g();v(" ",r.us.doc(F.author).email," ")}}var a=(()=>{let e=class e{get rows(){return this.sessionId?this._sc.messagesBySessionId[this.sessionId]||[]:this._sc.conferencemessages}constructor(r,s,n,q,D,N,A){this._translate=r,this._alert=s,this._sc=n,this._form=q,this._core=D,this._router=N,this.us=A,this.sessionId=this._router.url.includes("/messages/")?this._router.url.replace("/messages/",""):"",this.columns=["author","text"],this.form=this._form.getForm("messages",{formId:"messages",title:"Messages",components:[{name:"Text",key:"text",focused:!0,required:!0,fields:[{name:"Placeholder",value:"fill message text"},{name:"Label",value:"Message"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(i,m)=>{this.sessionId&&(i.session=this.sessionId),this._sc.create(i),m()}})},update:i=>{this._form.modal(this.form,[],i).then(m=>{this._core.copy(m,i),this._sc.update(i)})},delete:i=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this Conferencemessage?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sc.delete(i)}}]})},buttons:[{icon:"cloud_download",click:i=>{this._form.modalUnique("messages","url",i)}}]}}};e.\u0275fac=function(s){return new(s||e)(o(w),o(y),o(k),o(M),o(x),o(C),o(j))},e.\u0275cmp=l({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[["title","Messages",3,"columns","config","rows"],["cell","author"]],template:function(s,n){s&1&&(h(0,"wtable",0),p(1,U,1,1,"ng-template",1),d()),s&2&&u("columns",n.columns)("config",n.config)("rows",n.rows)},dependencies:[b,S]});let t=e;return t})();var B=[{path:"",component:a},{path:":message_id",component:a}],V=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=f({type:e}),e.\u0275inj=c({imports:[I.forChild(B),T]});let t=e;return t})();export{V as MessagesModule};
